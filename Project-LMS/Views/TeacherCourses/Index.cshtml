@model IEnumerable<Project_LMS.Models.Course>

@{
    ViewBag.Title = "Index";
}

<h2>List of Courses</h2>


<p>
    @Html.ActionLink("Add A New Course", "Create", new { id = ViewBag.Id }, new { @class = "btn btn-primary btn-large" })
</p>

<table class="table">
    <tr>
        <th>@Html.DisplayNameFor(model => model.CourseName)</th>
        <th>@Html.DisplayNameFor(model => model.StartDate)</th>
        <th>@Html.DisplayNameFor(model => model.EndDate)</th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>@Html.DisplayFor(modelItem => item.CourseName)</td>
        <td>@Html.DisplayFor(modelItem => item.StartDate)</td>
        <td>@Html.DisplayFor(modelItem => item.EndDate)</td>
        <td>
            <a href="@Url.Action("Edit", "TeacherCourses", new { id = item.CourseId })" class="btn btn-primary">
                <i class="glyphicon glyphicon-edit"></i>
                <span>
                    <strong>Edit</strong>
                </span>
            </a>
            <a href="@Url.Action("Details", "TeacherCourses", new { id = item.CourseId })" class="btn btn-info">
                <i class="glyphicon glyphicon-list"></i>
                <span>
                    <strong>Details</strong>
                </span>
            </a>
            <a href="@Url.Action("Delete", "TeacherCourses", new { id = item.CourseId, isVerified = false })" class="btn btn-danger">
                <i class="glyphicon glyphicon-erase"></i>
                <span>
                    <strong>Delete</strong>
                </span>
            </a>

            <a href="@Url.Action("Schedule", "TeacherCourses", new { id = item.CourseId })" class="btn btn-success">
                <i class="glyphicon glyphicon-list-alt"></i>
                <span>
                    <strong>Schedule</strong>
                </span>
            </a>
            <a href="@Url.Action("MoveCourse", "TeacherCourses", new { id =  item.CourseId })" class="modal-link btn btn-info"><i class="glyphicon glyphicon-move"></i> <span><strong>Move</strong></span></a>
        </td>
    </tr>
}

</table>

<p>
    @Html.ActionLink("Show Ongoing Courses", "ShowUndergoingCourses", null, new { @class = "btn btn-primary btn-large" })
    @Html.ActionLink("Show Expired Courses", "ShowExpiredCourses", null, new { @class = "btn btn-primary btn-large" })
</p>
<script type="text/javascript">
    $(function () {
        // Initialize numeric spinner input boxes
        //$(".numeric-spinner").spinedit();
        // Initialize modal dialog
        // attach modal-container bootstrap attributes to links with .modal-link class.
        // when a link is clicked with these attributes, bootstrap will display the href content in a modal dialog.
        $('body').on('click', '.modal-link', function (e) {
            e.preventDefault();
            $(this).attr('data-target', '#modal-container');
            $(this).attr('data-toggle', 'modal');
        });
        // Attach listener to .modal-close-btn's so that when the button is pressed the modal dialog disappears
        $('body').on('click', '.modal-close-btn', function () {
            $('#modal-container').modal('hide');
        });
        //clear modal cache, so that new content can be loaded
        $('#modal-container').on('hidden.bs.modal', function () {
            $(this).removeData('bs.modal');
        });
        $('#CancelModal').on('click', function () {
            return false;
        });
    });
</script>